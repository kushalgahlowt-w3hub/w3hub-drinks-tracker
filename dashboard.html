<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>w3.hub ‚Äì Dashboard</title>

    <link rel="stylesheet" href="style.css">

    <!-- Supabase -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <!-- Auth -->
    <script defer src="auth.js"></script>
</head>

<body>
<div class="layout">

    <!-- SIDEBAR -->
    <aside class="sidebar" data-role="admin-only">
        <div class="sidebar-logo">
            <span class="logo-icon">w3</span><span class="logo-dot">.</span><span class="logo-text">hub</span>
        </div>
        <div class="sidebar-subtitle">Drinks Tracker ‚Ä¢ Internal tool</div>

        <nav class="sidebar-nav">
            <a href="dashboard.html" class="active">Setup ¬∑ Events / Floors</a>
            <a href="runner.html">Runner Mode</a>
            <a href="storage.html">Storage / Deliveries</a>
            <a href="admin_reports.html">Analytics Dashboard</a>
            <a href="admin_users.html">User Management</a>
        </nav>

        <div class="sidebar-footer">
            <p>Property of w3.hub<br>Internal use only</p>
            <button onclick="logoutUser()" class="logout-btn">Logout</button>
        </div>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="content">
        <div class="page-card">

            <h1>Setup: Events ¬∑ Floors ¬∑ Fridges</h1>
            <p class="page-description">
                Add and manage events, floors, and fridges.  
                *No event closing or status changes appear here.*
            </p>

            <!-- Supabase Client -->
            <script>
                const SUPABASE_URL = "https://trcnszlkdunbbybdyjag.supabase.co";
                const SUPABASE_ANON_KEY =
                    "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRyY25zemxrZHVuYmJ5YmR5amFnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMzODM4MTYsImV4cCI6MjA3ODk1OTgxNn0.wCAAHfsBOeU6rp4v_7JhdMI9NlucX1cT1_3GTZ0GR8M";

                const supabase = window.supabase.createClient(
                    SUPABASE_URL,
                    SUPABASE_ANON_KEY
                );
            </script>

            <!-- ADD EVENT -->
            <section class="setup-section">
                <h2>üìÖ Add Event</h2>

                <label class="form-label">Event Name</label>
                <input id="event-name" class="form-input" placeholder="Event name">

                <label class="form-label">Event Date</label>
                <input id="event-date" class="form-input" type="date">

                <label class="form-label">Owned By</label>
                <select id="event-owned-by" class="form-input">
                    <option value="w3.hub">w3.hub</option>
                    <option value="BetterLife">BetterLife</option>
                    <option value="Other">Other (Specify below)</option>
                </select>

                <input id="event-owned-by-other"
                       class="form-input"
                       placeholder="Specify owner (only if 'Other')"
                       style="display:none; margin-top:6px;">

                <button id="add-event-btn" class="btn-primary" style="margin-top:12px;">
                    Add Event
                </button>
            </section>

            <hr class="divider">

            <!-- EVENT LIST -->
            <section class="setup-section">
                <h2>üóÇ Event List</h2>
                <div id="event-list"></div>
            </section>

            <hr class="divider">

            <!-- ADD FLOOR -->
            <section class="setup-section">
                <h2>üè¢ Add Floor</h2>

                <label class="form-label">Floor Name (e.g. 2F, 3F, Basement)</label>
                <input id="floor-name" class="form-input" placeholder="Enter floor name">

                <button id="add-floor-btn" class="btn-primary" style="margin-top:12px;">
                    Add Floor
                </button>
            </section>

            <hr class="divider">

            <!-- FLOOR LIST -->
            <section class="setup-section">
                <h2>üè¨ Floors</h2>
                <div id="floor-list"></div>
            </section>

            <hr class="divider">

            <!-- ADD FRIDGE -->
            <section class="setup-section">
                <h2>üßä Add Fridge</h2>

                <label class="form-label">Fridge Name (e.g. 4F1, 4F2)</label>
                <input id="fridge-name" class="form-input" placeholder="Enter fridge name">

                <label class="form-label">Select Floor</label>
                <select id="fridge-floor-select" class="form-input"></select>

                <button id="add-fridge-btn" class="btn-primary" style="margin-top:12px;">
                    Add Fridge
                </button>
            </section>

            <hr class="divider">

            <!-- FRIDGE LIST -->
            <section class="setup-section">
                <h2>üßØ Fridges</h2>
                <div id="fridge-list"></div>
            </section>

        </div>
    </main>

</div>

<!-- Dashboard Logic -->
<script defer src="dashboard.js"></script>

</body>
</html>











